<app-header></app-header>

<main class="container">
  <nav class="breadcrumb mt-3">
    <a class="breadcrumb-item" href="#">Usuarios</a>
    <span class="breadcrumb-item active" aria-current="page">Nuevo Usuario</span>
  </nav>
  <div class="row mb-3">
    <div class="col-12">
      <h3>Nuevo usuario</h3>
    </div>
  </div>

  <!-- CÃ³digo del formulario del producto -->

  <div class="card bg-light text-black">
    <div class="card-header">Por favor llene todos los campos</div>
    <div class="card-body">

      <form #usuarioForm="ngForm">
        <div class="form-group row">
          <label for="" class="col-form-label col-sm-2">Nombre</label>
          <div class="col-sm-6">
            <input type="text" class="form-control" name="nombre" [(ngModel)]="usuario.nom_usuario" required
              #nombre="ngModel">
            <div class="alert alert-danger" *ngIf="nombre.invalid && (nombre.diry || nombre.touched)">
              <div *ngIf="nombre.errors.required">
                Se requiere el nombre del usuario
              </div>
            </div>
          </div>
        </div>

        <div class="form-group row">
          <label for="" class="col-form-label col-sm-2">Apellido</label>
          <div class="col-sm-6">
            <input type="text" class="form-control" name="apellido" [(ngModel)]="usuario.ape_usuario" required
              #apellido="ngModel">
            <div class="alert alert-danger" *ngIf="apellido.invalid && (nombre.diry || apellido.touched)">
              <div *ngIf="apellido.errors.required">
                Se requiere el apellido del usuario
              </div>
            </div>
          </div>
        </div>

        <div class="form-group row">
          <label for="" class="col-form-label col-sm-2">DNI</label>
          <div class="col-sm-2">
            <input type="number" class="form-control" min=11111111 max=99999999 name="dni"
              oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
              type="number" maxlength="8" [(ngModel)]="usuario.dni_usuario" required #dni="ngModel">
            <div class="alert alert-danger" *ngIf="dni.invalid && (dni.diry || dni.touched)">
              <div *ngIf="dni.errors.required">
                Se requiere el DNI del usuario
              </div>
            </div>
          </div>
        </div>

        <div class="form-group row">
          <label for="" class="col-form-label col-sm-2">E-mail</label>
          <div class="col-sm-6">
            <input type="email" class="form-control" name="email" [(ngModel)]="usuario.ema_usuario" required email
              #email="ngModel">
            <div class="alert alert-danger" *ngIf="email.invalid && (email.diry || email.touched)">
              <div *ngIf="email.errors.required">
                Se requiere el email del usuario
              </div>
              <div *ngIf="email.errors.email">
                El correo debe tener un formato correcto
              </div>
            </div>
          </div>
        </div>

        <div class="form-group row">
          <label for="" class="col-form-label col-sm-2">Rol</label>
          <div class="col-sm-6">
            <input type="text" class="form-control" name="rol" [(ngModel)]="usuario.rol_usuario" required
              #rol="ngModel">
            <div class="alert alert-danger" *ngIf="rol.invalid && (rol.diry || rol.touched)">
              <div *ngIf="rol.errors.required">
                Se requiere el rol del usuario
              </div>

            </div>
          </div>
        </div>

        <div class="form-group row">
          <div class="col-sm-6">
            <button class="btn btn-primary" role="button" (click)="crearUsuario()"
              *ngIf="!usuario.id_usuario else elseBlock" [disabled]="!usuarioForm.form.valid">Crear</button>

            <ng-template #elseBlock>
              <button class="btn btn-primary" role="button" (click)="updateUsuario()"
                [disabled]="!usuarioForm.form.valid">Editar</button>
            </ng-template>

          </div>
        </div>

      </form>
    </div>
  </div>


</main>

<app-footer></app-footer>
